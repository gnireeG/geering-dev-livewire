if(document.documentElement.getAttribute("data-session-theme")!==null){let a=function(){var n;e.setAttribute("data-theme",t.value),e.classList.remove("light","dark"),e.classList.add(t.value),(n=document.querySelector("#theme-toggle"))==null||n.setAttribute("aria-label",t.value)},r=function(){console.log("Theme toggle clicked"),t.value=t.value==="light"?"dark":"light",a(),s()},i=function(){const n=document.querySelectorAll(".theme-toggle");n&&n.forEach(d=>{d.addEventListener("click",r)})};var c=a,m=r,g=i;const e=document.documentElement,o=e.getAttribute("data-session-theme")?e.getAttribute("data-session-theme")==="true":!1,t={value:e.getAttribute("data-theme")||"light"};async function s(){fetch("/theme",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({theme:t.value})})}if(!o){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.value=n,a(),s()}document.addEventListener("DOMContentLoaded",i),document.addEventListener("livewire:navigated",i)}document.addEventListener("alpine:init",()=>{Alpine.store("nav",{open:!1,toggle(){this.open=!this.open},close(){this.open=!1}}),Alpine.data("dropdown",()=>({open:!1,toggle(){this.open=!this.open}}))});document.addEventListener("livewire:navigated",()=>{setTimeout(()=>{Alpine.store("nav").close()},10)});document.addEventListener("livewire:navigate",u);window.addEventListener("beforeunload",u);function u(e){document.querySelector("form.unsaved-changes")&&(confirm("You have unsaved changes. Are you sure you want to leave this page?")||e.preventDefault())}window.addEventListener("beforeunload",l);function l(e){const o=document.querySelector("#timetracker");if((o==null?void 0:o.getAttribute("data-timetracker-active"))==="true")return e.preventDefault(),e.returnValue="A time tracking session is running. Are you sure you want to leave this page?","A time tracking session is running. Are you sure you want to leave this page?"}
